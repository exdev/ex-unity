// ======================================================================================
// File         : FSMBase.cs
// Author       : Wu Jie 
// Last Change  : 04/19/2012 | 23:18:35 PM | Thursday,April
// Description  : 
// ======================================================================================

///////////////////////////////////////////////////////////////////////////////
// usings
///////////////////////////////////////////////////////////////////////////////

using UnityEngine;
using System.Collections;
using System.Collections.Generic;

///////////////////////////////////////////////////////////////////////////////
// \class FSMBase 
// 
// \brief 
// 
///////////////////////////////////////////////////////////////////////////////

public class FSMBase : MonoBehaviour {

    ///////////////////////////////////////////////////////////////////////////////
    // non-serialized
    ///////////////////////////////////////////////////////////////////////////////

    [System.NonSerialized] public fsm.Machine stateMachine = null;

    // ------------------------------------------------------------------ 
    // Desc: 
    // ------------------------------------------------------------------ 

    public virtual void Init () {
        if ( stateMachine == null ) {
            stateMachine = new fsm.Machine();
        }
    }

    // ------------------------------------------------------------------ 
    // Desc: 
    // ------------------------------------------------------------------ 

    public void StartFSM () {
        if ( stateMachine != null ) {
            stateMachine.Start();
        }
    }

    // ------------------------------------------------------------------ 
    // Desc: 
    // ------------------------------------------------------------------ 

    public void RestartFSM () {
        if ( stateMachine != null )
            stateMachine.Restart();
    }

    // ------------------------------------------------------------------ 
    // Desc: 
    // ------------------------------------------------------------------ 

    public virtual void Tick () {
        if ( stateMachine != null )
            stateMachine.Tick();
    }
}
